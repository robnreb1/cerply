{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "title": "CerplyModules",
    "type": "object",
    "required": ["modules"],
    "properties": {
      "modules": {
        "type": "array",
        "items": {
          "type": "object",
          "required": ["id","title","lessons","items"],
          "properties": {
            "id": {"type":"string"},
            "title": {"type":"string"},
            "lessons": {"type":"array","items":{"type":"object","required":["id","title","explanation"],"properties":{
              "id":{"type":"string"},"title":{"type":"string"},"explanation":{"type":"string"}
            }}},
            "items": {"type":"array","items":{"type":"object","required":["id","type","prompt"],"properties":{
              "id":{"type":"string"},
              "type":{"enum":["mcq","free"]},
              "prompt":{"type":"string"},
              "choices":{"type":"array","items":{"type":"string"}},
              "answer":{"type":["string","integer","array","null"]}
            }}}
          }
        }
      }
    }
  }
# Cerply workspace rules for Cursor

- Keep the flow: clarify → plan → confirm → generate; follow-ups via /api/ingest/followup.
- Do NOT re-plan unless server says { action: "revise" }.
- UI: typewriter opener with newlines; user right / assistant left; sticky input; no carousels.
- Respect guards: topic/language filter; refuse proxy uses; ASCII-only headers.
- Use existing env flags: LLM_PREVIEW=1, LLM_PLANNER_PROVIDER=openai, LLM_PLANNER_MODEL=gpt-4o-mini.
- Web uses fetch to API; prefer computeApiBase() behavior already in page.tsx.
- When changing code: produce minimal diffs; explain what/why; don’t add new deps unless necessary.
- Prefer unified diffs when edits span multiple files; otherwise full-file replacements are OK.
- Always run smoke checks before saying a task is done.